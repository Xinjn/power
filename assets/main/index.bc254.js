window.__require=function t(i,n,o){function e(s,a){if(!n[s]){if(!i[s]){var h=s.split("/");if(h=h[h.length-1],!i[h]){var r="function"==typeof __require&&__require;if(!a&&r)return r(h,!0);if(c)return c(h,!0);throw new Error("Cannot find module '"+s+"'")}s=h}var u=n[s]={exports:{}};i[s][0].call(u.exports,function(t){return e(i[s][1][t]||t)},u,u.exports,t,i,n,o)}return n[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<o.length;s++)e(o[s]);return e}({PageViewCtrl:[function(t,i){"use strict";cc._RF.push(i,"becf9ZpBi5KG43ard9opUPT","PageViewCtrl"),cc.Class({extends:cc.Component,properties:{pageTeample:cc.Prefab,target:cc.PageView,label:cc.Label},onLoad:function(){console.log("this.target",this.target),this.target.setCurrentPageIndex(0)},update:function(){var t=1949+this.target.getCurrentPageIndex();this.label.string=t,localStorage.setItem("year",this.label.string)}}),cc._RF.pop()},{}],end:[function(t,i){"use strict";cc._RF.push(i,"4f16bsKma9J24ciWwi7cik/","end"),cc.Class({extends:cc.Component,properties:{birth:cc.Label,count:cc.Label},onLoad:function(){this.data=localStorage.getItem("year")},start:function(){this.birth.string=this.data,this.count.string=this.birth.string-1949}}),cc._RF.pop()},{}],loading:[function(t,i){"use strict";cc._RF.push(i,"85dc5T7tDxOCp3o8pg9HEQo","loading"),cc.Class({extends:cc.Component,properties:{text:cc.Label},onLoad:function(){var t=cc.view.getFrameSize().height<cc.view.getFrameSize().width?cc.view.getFrameSize().width:cc.view.getFrameSize().height,i=cc.view.getFrameSize().height>cc.view.getFrameSize().width?cc.view.getFrameSize().width:cc.view.getFrameSize().height;cc.log(t,i),cc.view.setFrameSize(t,i),cc.game.addPersistRootNode(cc.find("StaicBg"))},start:function(){var t=this,i=cc.find("Canvas/loading").getComponent(cc.Animation),n=cc.find("Canvas/loading/load");n.x=191,this.text.string="0%",cc.director.preloadScene("login",function(i,o){var e=i/o;t.text.string=parseInt(100*e).toString()+"%",n.x=759*e,console.log(t.text.string)},function(){i.play("disappear")}),i.on("finished",this.end,this)},end:function(){cc.log("\u573a\u666f\u4e00\u5b8c\u6210"),cc.director.loadScene("login")},update:function(){}}),cc._RF.pop()},{}],login:[function(t,i){"use strict";cc._RF.push(i,"06069RWqx1PSpakRwd8wBqB","login"),cc.Class({extends:cc.Component,properties:{audio:{default:null,type:cc.AudioClip},isMobile:!1},onLoad:function(){cc.log("\u8fdb\u5165\u573a\u666f2");for(var t=navigator.userAgent.toLowerCase(),i=["iphone","ipad","ipod","android","linux","windows phone"],n=0;n<i.length;n++)-1!==t.indexOf(i[n])&&(this.isMobile=!0);cc.game.addPersistRootNode(cc.find("StaicBg")),this.StaicBg=cc.director.getScene().getChildByName("StaicBg"),cc.game.removePersistRootNode(this.StaicBg),this.StaicBg.destroy(),this.current=cc.audioEngine.play(this.audio,!1,1)},start:function(){cc.log("this.isMobile",this.isMobile),this.cardhandle=cc.find("Canvas/cardhandle"),this.cardhandle.getComponent(cc.Animation).play("handIn"),this.birth=cc.find("Canvas/cardhandle/birth"),this.cancel=cc.find("Canvas/inputWrap/input/cancel"),this.confirm=cc.find("Canvas/inputWrap/input/confirm"),this.isMobile?(this.birth.on("touchstart",this.onInput,this),this.birth.on("touchstart",this.onInput,this),this.confirm.on("touchstart",this.onConfirm,this)):(this.birth.on("mousedown",this.onInput,this),this.cancel.on("mousedown",this.onCancel,this),this.confirm.on("mousedown",this.onConfirm,this))},onInput:function(){cc.log("\u9009\u62e9\u5e74\u4efd"),this.inputWrap=cc.find("Canvas/inputWrap"),this.inputWrap.active=!0,this.inputWrap.getComponent(cc.Animation).play("inputIn")},onCancel:function(){cc.log("\u53d6\u6d88");var t=this.inputWrap.getComponent(cc.Animation);t.play("inputOut"),t.on("finished",this.inputWrapRemove,this)},inputWrapRemove:function(){this.inputWrap.active=!1},onConfirm:function(){cc.log("\u786e\u8ba4"),this.inputWrap.getComponent(cc.Animation).play("inputOut");var t=this.cardhandle.getComponent(cc.Animation);t.play("handOut"),t.on("finished",this.onCardAni,this)},onCardAni:function(){cc.log("\u52a8\u753b\u7ed3\u675f\u5207\u6362\u573a\u666f3"),cc.director.loadScene("longSence")},update:function(){},onDestroy:function(){}}),cc._RF.pop()},{}],longSence:[function(t,i){"use strict";cc._RF.push(i,"5db80YsWIVItZuXYAX6tSYj","longSence"),cc.Class({extends:cc.Component,properties:{toggleDown:!1,toggleMove:!1,moveAni:!1,audio:{default:null,type:cc.AudioClip}},onLoad:function(){for(var t=navigator.userAgent.toLowerCase(),i=["iphone","ipad","ipod","android","linux","windows phone"],n=0;n<i.length;n++)-1!==t.indexOf(i[n])&&(this.isMobile=!0);this.canvasAni=this.node.getComponent(cc.Animation),this.canvasAni.play("approach"),this.takePhoto=cc.find("Canvas/takePhoto"),this.shareBtn=cc.find("Canvas/behindWrap/shareBtn")},start:function(){cc.log("this.isMobile",this.isMobile),this.isMobile?(this.node.on("touchstart",this.onMouseDown,this),this.node.on("touchmove",this.onMouseMove,this),this.node.on("touchend",this.onMouseUp,this),this.takePhoto.on("touchstart",this.onTake,this),this.shareBtn.on("touchstart",this.onShareBtn,this)):(this.node.on("mousedown",this.onMouseDown,this),this.node.on("mousemove",this.onMouseMove,this),this.node.on("mouseup",this.onMouseUp,this),this.takePhoto.on("mousedown",this.onTake,this),this.shareBtn.on("mousedown",this.onShareBtn,this)),this.displayState=this.canvasAni.getAnimationState("display"),this.moveState=this.canvasAni.getAnimationState("move"),this.moveState.on(cc.Animation.EventType.FINISHED,this.onMoveEnd,this)},onTake:function(){this.logo=cc.find("Canvas/logo"),this.logoAni=this.logo.getComponent(cc.Animation),this.logoAni.play("share")},onMouseDown:function(){cc.log("\u9f20\u6807\u6309\u4e0b"),this.toggleDown=!0,0===this.displayState.time&&this.displayState.play()},finishDisplay:function(){cc.log(this.canvasState),this.canvasState.removeSelf()},onMouseMove:function(){this.toggleDown&&(cc.log("\u9f20\u6807\u79fb\u52a8"),this.toggleMove=!0,this.toggleMove&&(this.moveState.isPaused&&(cc.log("\u6062\u590d\u52a8\u753b"),this.moveState.resume()),this.moveAni||this.canvasAni.play("move"),this.moveAni=!0))},onMouseUp:function(){cc.log("\u9f20\u6807\u677e\u5f00"),this.toggleDown=!1,this.toggleMove=!1,this.moveState.pause()},effectAut:function(){this.current=cc.audioEngine.play(this.audio,!1,1)},onShareBtn:function(){cc.director.loadScene("end")},update:function(){}}),cc._RF.pop()},{}]},{},["PageViewCtrl","end","loading","login","longSence"]);